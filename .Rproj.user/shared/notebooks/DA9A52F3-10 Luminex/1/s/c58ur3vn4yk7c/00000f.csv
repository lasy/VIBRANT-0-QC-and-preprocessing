"0",""
"0","samples <- "
"0","  colData(raw) |> "
"0","  as.data.frame() |> "
"0","  rownames_to_column("".sample"") |> "
"0","  as_tibble()"
"0",""
"0","samples <-"
"0","  samples |> "
"0","  left_join("
"0","    manifest |> "
"0","      select(shorthand_title, sample_id) |> "
"0","      dplyr::rename(sample_id_manifest = sample_id, sample_id = shorthand_title),"
"0","    by = join_by(sample_id)"
"0","  )"
"0",""
"0","should_be_zero <- "
"0","  samples |> "
"0","  filter((plate_nb != 1) & !is.na(sample_id_manifest)) |> "
"0","  nrow()"
"0",""
"0","if (should_be_zero > 0) "
"0","  stop(""There are samples with a manifest sample_id that are not on plate 1"")"
"0",""
"0",""
"0","samples <-"
"0","  samples |> "
"0","  mutate("
"0","    sample_id ="
"0","      case_when("
"0","        !is.na(sample_id_manifest) ~ sample_id_manifest,"
"0","        TRUE ~ sample_id"
"0","      )"
"0","  )"
"0","  "
